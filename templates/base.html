{% import "macros/rel_attributes.html" as macros_rel_attributes %}
{% import "macros/translate.html" as macros_translate %}
{%- set language_strings = load_data(path="i18n/" ~ lang ~ ".toml", required=false) -%}
{%- set date_format = macros_translate::translate(key="date_format", language_strings=language_strings) -%}


<!DOCTYPE html>
{% include "partials/head.html" %}

<body>
	{% block body %}
		{%- if config.extra.nav.links %}
			{% include "partials/nav.html" %}
		{%- endif %}

		<main id="main-content">
			{% block custom %}{% endblock custom %}

			{%- if page.extra.go_to_top or section.extra.go_to_top %}
				<div id="buttons-container">
					<a id="go-to-top"
						href="#top"
						title="{{ macros_translate::translate(key='go_to_top', default='Go to Top', language_strings=language_strings) }}">
						<i class="icon"></i>
					</a>
				</div>
			{%- endif %}

			{% block content %}{% endblock content %}
		</main>

		{% include "partials/footer.html" %}
	{% endblock body %}

	{% block scripts %}
		<script src="{{ get_url(path='js/nav-toggle.js') }}"></script>
		<script src="{{ get_url(path='js/nav-links.js') }}"></script>
		<script src="{{ get_url(path='js/scroll-hint.js') }}"></script>
	{% endblock scripts %}

	<div id="cookie-banner" class="cookie-banner">
		<p>
			{% block cookie_text %}
				{% if lang == "ja" %}
					当サイトでは、サービス向上のため Cookie を使用しています。<br>
					「同意」いただくことで全ての機能をご利用いただけます。
					「拒否」を選択した場合、一部の機能がご利用いただけない場合があります。
				{% else %}
					This website uses cookies to improve our services.
					By selecting “Accept”, you will have access to all features.
					If you choose “Decline”, some features may not be available.
				{% endif %}
			{% endblock %}
		</p>
		<button id="cookie-accept" class="cookie-button-accept">
				{% if lang == "ja" %}
						同意する
				{% else %}
						Accept
				{% endif %}
		</button>
		<button id="cookie-decline" class="cookie-button-decline">
				{% if lang == "ja" %}
					拒否する
				{% else %}
					Decline
				{% endif %}
		</button>
	</div>
	<script src="/js/cookie.js"></script>
</body>
</html>
